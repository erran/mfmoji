<template>
  <h1>mfmoji maker</h1>
  <div class="mfmoji-maker">
    <div>
      <h3>Foreground Emoji</h3>
      <button :class="foregroundEmoji == '拘勇' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '拘勇'">拘勇</button>
      <button :class="foregroundEmoji == '拘럺잺' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '拘럺잺'">拘럺잺</button>
      <button :class="foregroundEmoji == '游릶' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游릶'">游릶</button>
      <button :class="foregroundEmoji == '游릴' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游릴'">游릴</button>
      <button :class="foregroundEmoji == '游린' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游린'">游린</button>
      <button :class="foregroundEmoji == '游릱' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游릱'">游릱</button>
      <button :class="foregroundEmoji == '游릲' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游릲'">游릲</button>
      <button :class="foregroundEmoji == '游릵' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游릵'">游릵</button>
      <button :class="foregroundEmoji == '游릳' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游릳'">游릳</button>
      <button :class="foregroundEmoji == '游릭' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游릭'">游릭</button>
      <button :class="foregroundEmoji == '游' ? activeStyle : inactiveStyle" v-on:click="foregroundEmoji = '游'">游</button>
    </div>

    <div>
      <h3>Background Emoji</h3>
      <button :class="backgroundEmoji == '拘勇' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '拘勇'">拘勇</button>
      <button :class="backgroundEmoji == '拘럺잺' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '拘럺잺'">拘럺잺</button>
      <button :class="backgroundEmoji == '游릶' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游릶'">游릶</button>
      <button :class="backgroundEmoji == '游릴' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游릴'">游릴</button>
      <button :class="backgroundEmoji == '游린' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游린'">游린</button>
      <button :class="backgroundEmoji == '游릱' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游릱'">游릱</button>
      <button :class="backgroundEmoji == '游릲' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游릲'">游릲</button>
      <button :class="backgroundEmoji == '游릵' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游릵'">游릵</button>
      <button :class="backgroundEmoji == '游릳' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游릳'">游릳</button>
      <button :class="backgroundEmoji == '游릭' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游릭'">游릭</button>
      <button :class="backgroundEmoji == '游' ? activeStyle : inactiveStyle" v-on:click="backgroundEmoji = '游'">游</button>
    </div>

    <div>
      <h3>Your masterpiece</h3>
      <button v-on:click="copy(backgroundEmoji, foregroundEmoji)">Copy to clipboard</button>
      <span class="pre-wrap">{{mfparty}}</span>
    </div>
  </div>
  <p>Made with 仇벒잺 by erran. Inspired by a <a href="https://twitter.com/mintrainmint/status/1507086119703355402?s=20&t=4Po1jh6vasgpwgN45kDBLg">cool Tweet by @mintrain</a>.</p>
</template>

<style scoped>
h3 {
  font-size: 1.2rem;
}

#mfmoji-maker {
  display: grid;
  grid-template-columns: 1fr 1fr;
  padding: 0 2rem;
}

.active-emoji {
  border: red;
  border-style: groove;
}

.inactive-emoji {
  border: blue;
  border-style: groove;
}

.pre-wrap {
  display: block;
  white-space: pre-wrap;
}
</style>

<script lang="ts">
import { defineComponent } from 'vue';

const activeStyle = 'active-emoji';
const inactiveStyle = 'inactive-emoji';
// The OG by mintrain:
const mfmoji = `游릵游릵游릵游릳游릳游릵游릵游릵
游릵游릵游릳游릳游릳游릳游릵游릵
游릵游릳游릳游릵游릳游릵游릳游릵
游릳游릳游릳游릳游릳游릳游릳游릳
游릳游릵游릳游릳游릳游릳游릵游릳
游릳游릵游릳游릳游릳游릳游릵游릳
游릵游릵游릳游릵游릵游릳游릵游릵
游릵游릵游릳游릵游릵游릳游릵游릵
`;

export default defineComponent({
  data() {
    return {
      backgroundEmoji: '拘勇',
      foregroundEmoji: '拘럺잺',
    };
  },

  computed: {
    mfparty(ctx) {
      return mfmoji.replace(/游릵/g, ctx.backgroundEmoji)
        .replace(/游릳/g, ctx.foregroundEmoji);
    },
  },

  methods: {
    copy(backgroundEmoji: string, foregroundEmoji: string) {
      window.navigator.clipboard.writeText(mfmoji.replace(/游릵/g, backgroundEmoji)
        .replace(/游릳/g, foregroundEmoji));
    },
  },

  setup() {
    return {
      activeStyle,
      inactiveStyle,
    };
  },
});
</script>
